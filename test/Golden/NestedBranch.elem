foreign export "main" main
    : (∀ ((∀ 0 → 0 → 0) → (∀ 0 → 0 → 0) → (∀ 0 → 0 → 0) → (∀ 0 → 0 → 0) → (∀ 0 → 0 → 0) → (∀ 0 → 0 → 0) → (∀ 0 → 0 → 0) → (∀ 0 → 0 → 0) → 0) → 0)
    → IO (∀ 0 → 0)

foreign import c_dothing "dothing" : IO (∀ 0 → 0)

foreign primitive pureIO : ∀ 0 → IO 0
foreign primitive bindIO : ∀ IO 0 → ∀ (1 → IO 0) → IO 0

main = abort_if_nonzero c_dothing

abort_if_nonzero = λ(IO (∀ 0 → 0)) λ(∀ ((∀ 0 → 0 → 0) → (∀ 0 → 0 → 0) → (∀ 0 → 0 → 0) → (∀ 0 → 0 → 0) → (∀ 0 → 0 → 0) → (∀ 0 → 0 → 0) → (∀ 0 → 0 → 0) → (∀ 0 → 0 → 0) → 0) → 0)
    0 @(∀ 0 → 0 → 0) (λ(∀ 0 → 0 → 0) λ(∀ 0 → 0 → 0) λ(∀ 0 → 0 → 0) λ(∀ 0 → 0 → 0)
        λ(∀ 0 → 0 → 0) λ(∀ 0 → 0 → 0) λ(∀ 0 → 0 → 0) λ(∀ 0 → 0 → 0)
        or 0 (or 1 (or 2 (or 3 (or 4 (or 5 (or 6 7))))))
        ) @(IO (∀ 0 → 0)) (pureIO @(∀ 0 → 0) (Λ λ0 0)) 1

or = λ(∀ 0 → 0 → 0) λ(∀ 0 → 0 → 0) 1 @(∀ 0 → 0 → 0) t 0

t = Λ λ0 λ0 1

